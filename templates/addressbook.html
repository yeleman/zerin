<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!-- <link rel="stylesheet" media="screen" type="text/css" href="/static/css/zerin.css" /> -->
<link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css" />
<title>Hello</title>

</head>
<body>

    <div class="container-fluid">
         <h1>Carnet d'adresses</h1>
        <div class="row-fluid">
            <div class="span2 well">
                <ul id="groups" class="nav nav-list">
                    <li class="nav-header">Groupes</li>
                    <li class="divider"></li>
                    <li><a href="#" group_id="-1">Tous</a></li>
                    <li class="divider"></li>
                </ul>
            </div>
            <div class="span10">
                <div class="" style="overflow-y:auto; height:50%;">
                    <table class="table table-striped table-bordered table-hover" id="contacts_table">

                    </table>
                </div>
                <div class="row-fluid"> 
                    <div class="span5">
                        <h2>Alou Dolo</h2>
                        <ul><li>73 12 08 96 (Orange)</li>
                            <li>65 73 10 76 (Malitel)</li>
                        </ul>
                    </div> 
                    <div class="span7">
                        <h4>Transferts</h4>
                        <table id=""  class="table table-striped table-bordered">
                        <tr><td>724243423</td><td>20/08/2012</td><td>100 cfa</td></tr>
                        <tr><td>724243423</td><td>24/08/2012</td><td>100 cfa</td></tr>
                        </table>
                    </div> 
                </div> 
            </div>
        </div>
    </div>
    
</div>
</body>
<script type="text/javascript" src="/static/jquery-1.8.1.min.js"></script>
<script type="text/javascript" src="/static/bootstrap/js/bootstrap.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){
 
    $.getJSON('/addressbook/group_list', function(data) {
        $.each(data.groups, function(num, group) {
            row = "<li><a href='#' group_id=" + group.id +">" + group.name + "</a></li>";
            $("#groups").append(row);
          });
        $("#content").show();
    });

    alert("kkk");

    $("#groups li a").click(function() {
        group_id = $(this).attr('group_id');
        $(this).parent().parent().children('li').not($(this).parent()).removeClass('active');
        $(this).parent().addClass('active');

        $.getJSON('/addressbook/contact_for/' + group_id, function(data) {
            $("#contacts_table").empty();
            $.each(data.contacts, function(num, contact) {
                row = "<tr><td>" + contact.name + "</td></tr>";
                $("#contacts_table").append(row);
            });
        });
    });

});
</script>
</html>